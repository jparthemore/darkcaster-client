<section>
  <h1>Minutely Weather Lookup</h1>
  <span>
    <label>Latitude:</label>
    <input type="number" ng-model='$ctrl.lat' />
  </span>
  <span>
    <label>Longitude:</label>
    <input type="number" ng-model='$ctrl.lon' />
  </span>
  <div class='divider'>OR</div>
  <section class='city-state-zip'>
    <span>
      <label>City:</label>
      <input type="text"ng-model='$ctrl.city' />
    </span>
    <span>
      <label>State:</label>
      <input type="text" ng-model='$ctrl.state'/>
    </span>
    <span>
      <label>Zip:</label>
      <input type="number" ng-model='$ctrl.zip'/>
    </span>
  </section>
  <div>
    <button type="button" ng-click='$ctrl.searchByCoordinates()'>Search By Coordinates</button>
    <button type="button" ng-click='$ctrl.searchByLocation()'>Search By Location</button>
  </div>
</section>

<section ng-if='$ctrl.weatherMinutely'>
  <header>
    <h1>Weather By the Minute</h1>
    <h1>Summary: {{ $ctrl.weatherMinutely.summary}}</h1>
    <img ng-src="{{ $ctrl.imageLookup[$ctrl.weatherMinutely.icon || $ctrl.missingImage]}}" />
  </header>
  <main>
    <p ng-repeat="x in $ctrl.weatherMinutely.data">
      ---------------------- <br>
      Time: {{ x.time * 1000 | date: 'short'}} <br>
      Precipitation Probability: {{ (x.precipProbability * 100 | number: 1) || 'not available'}}% <br>
      Precipitation Intensity: {{ (x.precipIntensity * 100 |number: 0) || 'not available'}}% <br>
    </p>
  </main>
</section>
<section ng-if='$ctrl.weatherMinutelyNotAvailable'>
  <br>Sorry no minutely data available for this location at this time
</section>
<!-- <pre>{{ $ctrl.weatherMinutely | json }}</pre> -->
